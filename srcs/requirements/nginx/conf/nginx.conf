server
{
    #ecoute sur le port HTTPS(443) Port utilise pour les connexions securisees via SSL/TLS
    listen 443 ssl;
    #nom de domaine
    server_name aceralin.42.fr;
    #Emplacement du certificat SSL et Cle du certificat
    ssl_certificate /etc/nginx/ssl/ssl_certificats.crt; 
    ssl_certificate_key /etc/nginx/ssl/ssl_key.key; 
    #protocol a respecter
    ssl_protocols TLSv1.2 TLSv1.3;
    #Configuration du root et de index (point d entree pour l appli web qui traitera la requete et renverra le contenu dynamique genere)
    root /var/www/;
    index index.php;
    #Regles pour gerer les requetes sur le site
    location/
    {
        try_files $uri $uri/ /index.php?args;
    }
    #redirection des requetes PHP vers le container Wordpress
    Wordpress
    # FAST CGI : va executer le code PHP et renvoyer la page web a ngnix
    location ~ \.php$ 
    {
        fastcgi_split_path_info ^(.+\.php)(/.+)$;
        fastcgi_pass wordpress:9000;
        fastcgi_index index.php;
        include fastcgi_params;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        fastcgi_param PATH_INFO $fastcgi_path_info;
    }
} 
